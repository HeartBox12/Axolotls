[gd_scene load_steps=47 format=3 uid="uid://dxx3636flyr8a"]

[ext_resource type="Script" path="res://Player/player.gd" id="1_1qpr2"]
[ext_resource type="Script" path="res://State Machine.gd" id="2_15iyj"]
[ext_resource type="Script" path="res://Player/State Scripts/Idle.gd" id="3_0mjya"]
[ext_resource type="Script" path="res://Player/State Scripts/Walk.gd" id="4_846i6"]
[ext_resource type="Script" path="res://Player/State Scripts/plant.gd" id="5_r8208"]
[ext_resource type="Script" path="res://Player/State Scripts/turret.gd" id="6_feh3s"]
[ext_resource type="Script" path="res://Player/State Scripts/Offscreen.gd" id="6_o4vik"]
[ext_resource type="Script" path="res://Player/State Scripts/unplant.gd" id="7_h3uhe"]
[ext_resource type="Script" path="res://Player/State Scripts/harvest.gd" id="8_rgh44"]
[ext_resource type="Texture2D" uid="uid://dnur1r83b6m2y" path="res://Assets/radial.png" id="9_w538w"]
[ext_resource type="Texture2D" uid="uid://dd5kq4mby8og2" path="res://Assets/stickmanidle.png" id="10_vryk5"]
[ext_resource type="Texture2D" uid="uid://y00wutkvwqlw" path="res://Assets/stickmanwalking.png" id="11_cm87j"]

[sub_resource type="CircleShape2D" id="CircleShape2D_63l4v"]

[sub_resource type="AtlasTexture" id="AtlasTexture_1qy28"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_necfq"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_onmb8"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2m874"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pjl4i"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v6g03"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0llu2"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ym12m"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_en7aq"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ke4pj"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ck2fb"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2otnp"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_50lft"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bv5ra"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ulbvy"]
atlas = ExtResource("10_vryk5")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bmlqj"]
atlas = ExtResource("10_vryk5")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_khh8f"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s116n"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lesjx"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pwob5"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ckq8"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_j5b6k"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5g03f"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nxgeq"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o1xao"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vxt8r"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fi2mg"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7keli"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xepek"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p2aff"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ebley"]
atlas = ExtResource("11_cm87j")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_m3s2h"]
atlas = ExtResource("11_cm87j")
region = Rect2(32, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_6dppy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1qy28")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_necfq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_onmb8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2m874")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjl4i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v6g03")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0llu2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ym12m")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_en7aq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ke4pj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ck2fb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2otnp")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_50lft")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bv5ra")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ulbvy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bmlqj")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_khh8f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s116n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lesjx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pwob5")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ckq8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j5b6k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5g03f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nxgeq")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o1xao")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vxt8r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fi2mg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7keli")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xepek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p2aff")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ebley")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m3s2h")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[node name="Player" type="CharacterBody2D"]
collision_layer = 8
collision_mask = 7
script = ExtResource("1_1qpr2")
walkSpeed = 10000

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_63l4v")

[node name="State Machine" type="Node" parent="." node_paths=PackedStringArray("initState")]
script = ExtResource("2_15iyj")
initState = NodePath("idle")

[node name="idle" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "sprite")]
script = ExtResource("3_0mjya")
host = NodePath("../..")
machine = NodePath("..")
sprite = NodePath("../../sprite")

[node name="walk" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "sprite")]
script = ExtResource("4_846i6")
host = NodePath("../..")
machine = NodePath("..")
sprite = NodePath("../../sprite")

[node name="plant" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "clock")]
script = ExtResource("5_r8208")
host = NodePath("../..")
machine = NodePath("..")
clock = NodePath("../../ProgClock")
wait_time = 3

[node name="turret" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "clock")]
script = ExtResource("6_feh3s")
host = NodePath("../..")
machine = NodePath("..")
clock = NodePath("../../ProgClock")
wait_time = 5

[node name="unplant" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "clock")]
script = ExtResource("7_h3uhe")
host = NodePath("../..")
machine = NodePath("..")
clock = NodePath("../../ProgClock")
wait_time = 2

[node name="harvest" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine", "clock")]
script = ExtResource("8_rgh44")
host = NodePath("../..")
machine = NodePath("..")
clock = NodePath("../../ProgClock")
wait_time = 3

[node name="offscreen" type="Node" parent="State Machine" node_paths=PackedStringArray("host", "machine")]
script = ExtResource("6_o4vik")
host = NodePath("../..")
machine = NodePath("..")

[node name="sprite" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_6dppy")
animation = &"idle_up"

[node name="ProgClock" type="TextureProgressBar" parent="."]
offset_left = -8.0
offset_top = -32.0
offset_right = 8.0
offset_bottom = -16.0
max_value = 5.0
step = 0.0
fill_mode = 4
texture_progress = ExtResource("9_w538w")
